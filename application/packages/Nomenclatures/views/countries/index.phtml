<?php $this->extend('layouts/default'); ?>

<?php $this->section('title', 'Държави'); ?>

<h1>Държави</h1>

<?php

$grid = new Micro\Grid\Grid($this->items->toArray(), array(
    'paginatorPlacement' => 'both',
    'paginatorAlways' => 0,
    'buttons' => array(
        'btnAdd' => array(
            'value' => 'Добавяне',
            'class' => 'btn btn-primary'
        ),
    ),
    'columns' => array(
        'id' => array(
            'options' => array(
                'title'  => '#',
                'sourceField' => 'id'
            )
        ),
        'name' => array(
            'type' => 'href',
            'options' => array(
                'sourceField' => 'name',
                'sortable' => 1,
                'title'  => 'Име',
                'reset'  => 0,
                'params' => array(
                    'action' => 'edit',
                    'id' => ':id'
                )
            )
        ),
        'delete' => array(
            'type' => 'href',
            'options' => array(
                'text'   => ' ',
                'class'    => 'text-center',
                'hrefClass' => 'remove glyphicon glyphicon-trash',
                'reset'  => 0,
                'params' => array(
                    'action' => 'delete',
                    'id' => ':id'
                )
            )
        ),
    )
));

$grid->setIpp(10);
$grid->setPageNumber(app('request')->getParam('page', 1));

echo ($grid->render());